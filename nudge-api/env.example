# Nudge Coach API Configuration
# Copy this to .env and fill in your values

# ===========================================
# LLM Configuration
# ===========================================

# Provider: "groq" (recommended) or "local"
LLM_PROVIDER=groq

# Groq API Key (get free key at console.groq.com)
GROQ_API_KEY=your_groq_api_key_here

# Groq Model (llama-3.1-8b-instant is fast and free)
GROQ_MODEL=llama-3.1-8b-instant

# ===========================================
# Local Model Settings (if using local)
# ===========================================

# Path to your fine-tuned LoRA adapter
LOCAL_MODEL_PATH=../nudge-lora-adapter

# Base model to load (must match adapter_config.json)
LOCAL_BASE_MODEL=unsloth/meta-llama-3.1-8b-instruct-bnb-4bit

# ===========================================
# Embedding Configuration
# ===========================================

# all-MiniLM-L6-v2: Fast, lightweight, works everywhere
# nvidia/NV-Embed-v2: Best quality but requires more RAM/GPU
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Device for embeddings: "cuda" or "cpu"
# Use "cpu" on Windows for stability
EMBEDDING_DEVICE=cpu

# ===========================================
# Memory Configuration
# ===========================================

# ChromaDB persistence directory
CHROMA_PERSIST_DIR=./chroma_db

# Collection name for memories
CHROMA_COLLECTION_NAME=nudge_memories

# Number of memories to retrieve per query
MEMORY_TOP_K=8

# ===========================================
# Redis Configuration (for recent messages)
# ===========================================

# Option 1: Local Redis/Memurai (Windows)
# REDIS_URL=redis://localhost:6379

# Option 2: Upstash (FREE cloud Redis - recommended for Windows!)
# Sign up free at: https://upstash.com
# REDIS_URL=rediss://default:YOUR_PASSWORD@YOUR_ENDPOINT.upstash.io:6379
# REDIS_SSL=true

# Option 3: Disable Redis (uses in-memory cache)
# REDIS_ENABLED=false

REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_ENABLED=true

# Number of recent messages to cache
REDIS_CACHE_SIZE=10

# ===========================================
# Generation Settings
# ===========================================

MAX_NEW_TOKENS=512
TEMPERATURE=0.7
TOP_P=0.9

# ===========================================
# App Settings
# ===========================================

DEBUG=false

